<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Interactiva Pedagogía</title>
<style>
  body {
    font-family: Arial, sans-serif;
  }
  .semester {
    margin: 20px;
    border: 2px solid #444;
    padding: 10px;
    display: flex;
    flex-wrap: wrap;
    max-width: 800px;
  }
  .semester h2 {
    width: 100%;
  }
  .course {
    cursor: pointer;
    border: 2px solid #d36e9d; /* rosado fuerte */
    background-color: #d36e9d;
    color: #000;
    padding: 10px;
    margin: 5px;
    min-width: 180px;
    text-align: center;
    user-select: none;
    transition: background-color 0.3s, color 0.3s;
  }
  .course.approved {
    background-color: #f6d5e7; /* rosado pastel */
    color: #000;
    text-decoration: line-through;
    border-color: #f6d5e7;
  }
  .course.locked {
    background-color: #ccc;
    color: #666;
    border-color: #aaa;
    cursor: not-allowed;
  }
</style>
</head>
<body>

<h1>Malla Curricular - Pedagogía en Lenguaje y Comunicación</h1>

<div id="malla">

  <div class="semester" data-semester="1">
    <h2>1° semestre</h2>
    <div class="course" data-id="EDUCACION_Y_SOCIEDAD">EDUCACIÓN Y SOCIEDAD</div>
    <div class="course" data-id="LIT_UNIVERSAL_ANTIGUA">LITERATURA UNIVERSAL ANTIGUA Y MEDIEVAL</div>
    <div class="course" data-id="TALLER_LECTURA_I">TALLER DE LECTURA Y ESCRITURA I</div>
    <div class="course" data-id="LINGUISTICA_GENERAL">LINGÜÍSTICA GENERAL</div>
    <div class="course" data-id="TEORIA_COMUNICACION">TEORÍA DE LA COMUNICACIÓN</div>
    <div class="course" data-id="FUNDAMENTOS_FILOSOFICOS">FUNDAMENTOS FILOSÓFICOS</div>
  </div>

  <div class="semester" data-semester="2">
    <h2>2° semestre</h2>
    <div class="course locked" data-id="APRENDIZAJE_DESARROLLO_HUMANO" data-prereq="EDUCACION_Y_SOCIEDAD">APRENDIZAJE Y DESARROLLO HUMANO</div>
    <div class="course locked" data-id="LIT_UNIVERSAL_MODERNA" data-prereq="LIT_UNIVERSAL_ANTIGUA">LITERATURA UNIVERSAL MODERNA Y CONTEMPORÁNEA</div>
    <div class="course locked" data-id="TALLER_LECTURA_II" data-prereq="TALLER_LECTURA_I">TALLER DE LECTURA Y ESCRITURA II</div>
    <div class="course locked" data-id="GRAMATICA_COMUNICATIVA_I" data-prereq="LINGUISTICA_GENERAL">GRAMÁTICA COMUNICATIVA I</div>
    <div class="course locked" data-id="MEDIOS_COMUNICACION" data-prereq="TEORIA_COMUNICACION">MEDIOS DE COMUNICACIÓN Y CULTURA DIGITAL</div>
    <div class="course locked" data-id="COMUNICACION_INGLES">COMUNICACIÓN EN INGLÉS</div>
  </div>

</div>

<script>
  const approvedCourses = new Set(JSON.parse(localStorage.getItem('approvedCourses') || '[]'));
  const courses = document.querySelectorAll('.course');

  function updateCourseState(courseDiv) {
    const id = courseDiv.dataset.id;
    if (approvedCourses.has(id)) {
      courseDiv.classList.add('approved');
      courseDiv.classList.remove('locked');
    } else {
      const prereq = courseDiv.dataset.prereq;
      if (prereq && !approvedCourses.has(prereq)) {
        courseDiv.classList.add('locked');
        courseDiv.classList.remove('approved');
      } else {
        courseDiv.classList.remove('locked');
        courseDiv.classList.remove('approved');
      }
    }
  }

  function refreshAllCourses() {
    courses.forEach(updateCourseState);
  }

  courses.forEach(course => {
    updateCourseState(course);
    course.addEventListener('click', () => {
      if (course.classList.contains('locked')) return;

      const id = course.dataset.id;
      if (approvedCourses.has(id)) {
        approvedCourses.delete(id);
      } else {
        approvedCourses.add(id);
      }
      localStorage.setItem('approvedCourses', JSON.stringify(Array.from(approvedCourses)));
      refreshAllCourses();
    });
  });

  refreshAllCourses();
</script>

</body>
</html>
